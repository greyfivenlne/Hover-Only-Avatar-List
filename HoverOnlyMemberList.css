/* AvatarOnlyMemberList.css
   Hover-only member list for Vencord
   - Collapsed: avatar icons only
   - Hover: smooth expansion to full list
   - Works with most class/aria-label variants
*/

:root {
  --ml-collapsed: 56px;   /* width when collapsed */
  --ml-expanded: 260px;   /* width when hovered */
  --ml-anim: .34s cubic-bezier(.25,.8,.25,1);
  --ml-avatar-size: 36px;
}

/* Base container collapse */
:is(
  [aria-label="Member List"],
  [aria-label="Members"],
  [data-list-id="members"],
  .membersWrap_c8ffbb,
  .container_b2ca13,
  [class*="membersWrap"],
  [class*="membersColumn"],
  [class*="members"]
) {
  flex: 0 0 var(--ml-collapsed) !important;
  width: var(--ml-collapsed) !important;
  min-width: var(--ml-collapsed) !important;
  max-width: var(--ml-collapsed) !important;
  overflow: hidden !important;
  transition: width var(--ml-anim), flex-basis var(--ml-anim);
  background: transparent !important;
}

/* Expand on hover */
:is(
  [aria-label="Member List"]:hover,
  [aria-label="Members"]:hover,
  [data-list-id="members"]:hover,
  .membersWrap_c8ffbb:hover,
  .container_b2ca13:hover,
  [class*="membersWrap"]:hover,
  [class*="membersColumn"]:hover,
  [class*="members"]:hover
) {
  width: var(--ml-expanded) !important;
  min-width: var(--ml-expanded) !important;
  max-width: var(--ml-expanded) !important;
  flex: 0 0 var(--ml-expanded) !important;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45);
}

/* Hide names, headers, extras when collapsed */
:is(
  [aria-label="Member List"],
  [aria-label="Members"],
  [data-list-id="members"],
  .membersWrap_c8ffbb,
  .container_b2ca13,
  [class*="membersWrap"],
  [class*="membersColumn"],
  [class*="members"]
):not(:hover)
  :is(
    [class*="name"],
    [class*="username"],
    [class*="memberName"],
    [class*="role"],
    [class*="subText"],
    [class*="activity"],
    [class*="badge"],
    [class*="header"],
    [class*="memberGroup"],
    [class*="search"]
  ) {
  display: none !important;
  opacity: 0 !important;
  width: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Center avatars while collapsed */
:is(
  [aria-label="Member List"],
  [aria-label="Members"],
  [data-list-id="members"],
  .membersWrap_c8ffbb,
  .container_b2ca13,
  [class*="membersWrap"],
  [class*="membersColumn"],
  [class*="members"]
):not(:hover)
  :is([class*="avatar"], img.avatar) {
  width: var(--ml-avatar-size) !important;
  height: var(--ml-avatar-size) !important;
  margin: 6px auto !important;
  display: block !important;
  border-radius: 50% !important;
}

/* Smooth scroller alignment */
:is(
  [aria-label="Member List"],
  [aria-label="Members"],
  [data-list-id="members"],
  .membersWrap_c8ffbb,
  .container_b2ca13,
  [class*="membersWrap"],
  [class*="membersColumn"],
  [class*="members"]
):not(:hover) .scroller_ef3116 {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  overflow-y: auto !important;
}

/* Reset to normal when hovered */
:is(
  [aria-label="Member List"],
  [aria-label="Members"],
  [data-list-id="members"],
  .membersWrap_c8ffbb,
  .container_b2ca13,
  [class*="membersWrap"],
  [class*="membersColumn"],
  [class*="members"]
):hover * {
  opacity: 1 !important;
  display: revert !important;
  width: revert !important;
}
